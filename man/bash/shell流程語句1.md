	
## 流程语句
### 條件判斷語句：  

#### if語句  

```
if condition
then
    command1 
    command2
    ...
    commandN 
fi
```

```
if condition
then
    command1 
    command2
    ...
    commandN
else
    command
fi

```
```
if condition1
then
    command1
elif condition2 
then 
    command2
else
    commandN
fi

```
**PS:注意格式中condition的中括號和裡面的內容之間需要有一個空格隔開（格式就這樣）**  

**例子：檢查某個文件的大小是否超過7k，如果超過，就清空（可避免一些日誌文件過大）**  
```
#!/bin/bash
filemsg=`du -s a.txt`;
echo $filemsg;
file_size=`echo $filemsg | cut -d ' ' -f 1`;
echo $file_size;
file_size=`expr $file_size + 0`;
echo $file_size;

if [ $file_size -gt 7 ]
then
        echo "文件大於7k";
        echo "文件備份操作";
        echo "清空原日誌文件";
else
        echo "文件小於7k";
fi


```
**if else语句经常与test命令结合使用，如下所示：** 

```
num1=$[2*3]
num2=$[1+5]
if test $[num1] -eq $[num2]
then
    echo '两个数字相等!'
else
    echo '两个数字不相等!'
fi

```
#### test命令   

**【參考】https://www.runoob.com/linux/linux-shell-test.html**  

| 测试选项 | 作 用 | 
| ------ | ------ |
| -b 文件 | 判断该文件是否存在，并且是否为块设备文件（是块设备文件为真） |  
| -c 文件 | 判断该文件是否存在，并且是否为字符设备文件（是字符设备文件为真） |  
| -d 文件 | 判断该文件是否存在，并且是否为目录文件（是目录文件为真） |  
| -e 文件 | 判断该文件是否存在（存在为真） |  
| -f 文件 | 判断该文件是否存在，井且是否为普通文件（是普通文件为真） |  
| -L 文件 | 判断该文件是否存在，并且是否为符号链接文件（是符号链接文件为真〉 |  
| -p 文件 | 判断该文件是否存在，并且是否为管道文件（是管道文件为真）[參考](https://www.cnblogs.com/meihao1203/p/8443827.html) |  
| -s 文件 | 判断该文件是否存在，并且是否为非空（非空为真） |  
| -S 文件 | 判断该文件是否存在，并且是否为套接字文件（是套接字文件为真〉 |  

**判斷指定文件是否存在 **
```  
if test -e /root/aa
then
	echo "true";
else
	echo "false";
fi

```
**如果变量值为 0，则代表 test 判断为真；如果变量值非 0，则代表 test 判断为假。**   

| 测试选项 | 作 用 |   
| ------ | ------ |  
| -r 文件 | 判断该文件是否存在，并且是否拥有读权限（有读权限为真） |  
| -w 文件 | 判断该文件是否存在，并且是否拥有写权限（有写权限为真） |  
| -x 文件 | 判断该文件是否存在，并且是否拥有执行权限（有执行权限为真） |  

| 测试选项 | 作 用 |   
| ------ | ------ |
| 文件 1 -nt 文件 2 | 判断文件1的修改时间是否比文件2的新（如果新则为真） |  
| 文件 1 *ot 文件 2 | 判断文件1的修改时间是否比文件2的旧（如果旧则为真） |  
| 文件 1 -ef  文件 2 | 判断文件1是否和文件2的inode号一致，可以理解为两个文件是否为同一个文件。这个 判断用于判断硬链接是很好的方法 |  


| 测试选项 | 作 用 |   
| ------ | ------ |  
| 整数1 -eq 整数 2 | 判断整数 1 是否和整数 2 相等（相等为真） |  
| 整数1 -ne 整数 2 | 判断整数 1 是否和整数 2 不相等（不相等为真） |  
| 整数1 -gt 整数 2 | 判断整数 1 是否大于整数 2 (大于为真） |  
| 整数1 -lt 整数 2 | 判断整数 1 是否小于整数 2(小于为真） |  
| 整数1 -ge 整数 2 | 判断整数 1 是否大于等于整数 2 (大于等于为真） |  
| 整数1 -le 整数 2 | 判断整数 1 是否小于等于整数 2(小于等于为真） |  

| 测试选项 | 作 用 | 
| ------ | ------ |  
| -z 字符串 | 判断字符串是否为空（为空返回真） |  
| -n 字符串	 | 判断宇符串是否为非空（非空返回真） |  
| 字串 1 = 字串 2 | 判断字符串 1 是否和字符串 2 相等（相等返回真） |  
| 字串 1 != 字串 2 | 判断字符串 1 是否和字符串 2 不相等（不相等返回真） |  

| 测试选项 | 作 用 | 
| ------ | ------ |  
| 判断 1 -a 判断 2 | 逻辑与，判断 1 和判断 2 都成立，最终的结果才为真 |  
| 判断 1 -o 判断 2 | 逻辑或，判断 1 和判断 2 有一个成立，最终的结果就为真 |  
| ! 判断 | 逻辑非，使原始的判断式取反 |  
```
echo -e "\033[34m  判断该文件是否存在，并且是否为目录文件  \033[0m";
if  test -d /root/ ;
then
	echo "是目錄";
else
	echo "不是目錄";
fi
```
## 项目需求： 
	文件管理：目錄掃描以及文件屬性查看  

### 文件屬性

    1.  文件與文件信息屬性
    2.  文件與文件權限屬性

#### 文件與文件信息屬性
    
| 命令指引 | 作 用 | 
| ------ | ------ |  
| ls   |  查看文件名   |  
| ls  -l   |  羅列文件基本信息（權限、被系統記錄的次數、擁有者、擁有組、大小、最後一次修改時間、文件名字） |  
| ls  -al   | 羅列所有文件基本信息，包括隱藏文件 |  
| chmod 權限類型  文件名   |  修改文件權限 |  
| chown 擁有者  文件名   |  修改文件擁有者 |  
| chgrp 擁有組  文件名   |  修改文件擁有組 |  

#### 文件與文件屬性【略提】
| 權限分類 | 作 用 | 
| ------ | ------ |  
| r:read  | 只讀 |  
| w:write  | 寫入/修改 |  
| x:exec |  執行 |  

### 文件的查找（find命令）【略提】

| 命令 | 作 用 |  案例 |
| ------ | ------ |  ------- |
|  -user 用户名  |  根据所有者查找 | `find -user yts`  |  
| -group 组名 | 根据所属组查找 | `find -group mail`  |  
| ---權限命令--- | ---作用--- |  ----案例--- |
| -perm 條件  |  精確匹配條件 | `find /boot -perm 755 -type f -ls` |  
| -perm /條件  |   |  |   

** 搜索所有擁有者為yts的文件，並備份 **  

```
for line in ‘find ./ -user yts’   
do   
	cp $line "${line}_bak";   
done  
```

### 週期性任務 【略提】  
	
	主要命令：crontab –e :     

#### 格式   
	分	時	日	月	週	要執行的命令

#### 案例
 ```
*/1     *       *       *       *       /testLib/run.sh
 ```
        

        
        